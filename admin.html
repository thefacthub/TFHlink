
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="style.css">

    <script>
    // Anti-cache for CSS and JS files
    document.addEventListener("DOMContentLoaded", function() {
      const links = document.querySelectorAll('link[rel="stylesheet"], script[src]');
      const version = Date.now();

      links.forEach(el => {
        if (el.href) el.href = el.href.split('?')[0] + '?v=' + version;
        if (el.src) el.src = el.src.split('?')[0] + '?v=' + version;
      });
    });
  </script>
</head>
<body>
<div class="container">
    <h1>Admin Panel</h1>
    <label>Nama Halaman:</label><br>
    <input type="text" id="pageName"><br><br>
    <label>Deskripsi:</label><br>
    <textarea id="pageDescription" rows="3"></textarea><br><br>
    <h3>Custom Links</h3>
    <div id="linksContainer"></div>
    <button onclick="addLink()">Tambah Link</button><br><br>
    <button onclick="saveData()">Simpan</button>
</div>

<script>
function addLink(text='', url='') {
    const container = document.getElementById('linksContainer');
    const div = document.createElement('div');
    div.innerHTML = '<input type="text" placeholder="Teks Link" value="'+text+'"> <input type="text" placeholder="URL" value="'+url+'"> <button onclick="this.parentElement.remove()">Hapus</button>';
    container.appendChild(div);
}

function saveData() {
    const name = document.getElementById('pageName').value;
    const desc = document.getElementById('pageDescription').value;
    const links = [];
    document.querySelectorAll('#linksContainer div').forEach(d => {
        const inputs = d.querySelectorAll('input');
        links.push({text: inputs[0].value, url: inputs[1].value});
    });
    localStorage.setItem('pageName', name);
    localStorage.setItem('pageDescription', desc);
    localStorage.setItem('customLinks', JSON.stringify(links));
    alert('Data disimpan!');
}

// Load existing data
window.onload = function() {
    document.getElementById('pageName').value = localStorage.getItem('pageName') || '';
    document.getElementById('pageDescription').value = localStorage.getItem('pageDescription') || '';
    const links = JSON.parse(localStorage.getItem('customLinks') || '[]');
    links.forEach(l => addLink(l.text, l.url));
}
</script>
</body>
</html>
